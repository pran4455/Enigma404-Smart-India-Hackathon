<!DOCTYPE html>
<html>
<head>
    <title>Play Latest Audio</title>
</head>
<body>
    <h1>Play Latest Audio</h1>
    
    <!-- Add an audio element to play the audio -->
    <audio id="audioPlayer" controls></audio>
    
    <script>
        const audioPlayer = document.getElementById('audioPlayer');

        // Fetch the latest audio data from your Django view
        fetch('/enigma404/play_latest_audio/')
            .then(response => response.arrayBuffer())
            .then(data => {
                // Create a Blob from the audio data
                const audioBlob = new Blob([data], { type: 'audio/wav' });

                // Create a URL for the Blob and set it as the source for the audio element
                const audioUrl = URL.createObjectURL(audioBlob);
                audioPlayer.src = audioUrl;
            })
            .catch(error => {
                console.error('Error fetching or playing audio:', error);
            });
    </script>
</body>
</html>
